<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<link href='http://www.dpaxinos.com/feed.xml' rel='alternate' type='application/atom+xml'>

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <!-- <link href='http://fonts.googleapis.com/css?family=Fjalla+One|Cuprum:400,400italic|Maven+Pro' rel='stylesheet' type='text/css'> -->
<link href='http://fonts.googleapis.com/css?family=Lekton|Cabin|Yanone+Kaffeesatz:300|Oxygen|Fjalla+One|Cuprum:400,400italic|Maven+Pro|Arapey|Homenaje|Orbitron:900' rel='stylesheet' type='text/css'>
  <!--   <link href='http://fonts.googleapis.com/css?family=Abel|PT+Sans+Narrow:400,700|Quicksand|Lobster|Tangerine|Fjalla+One|Inconsolata:400,700|Yanone+Kaffeesatz|Pacifico|Oswald:300|Orbitron:900' rel='stylesheet' type='text/css'> -->
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Home &middot; Dimitris Paxinos
    
  </title> 
  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/site.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png"> 
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54447083-1', 'auto');
  ga('send', 'pageview');

</script>
  <!-- <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'dimitrispaxinosblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script> -->
<body>
    <div class="container content">
        <div class="masthead">
            <h3 class="masthead-title">
                <a href="/" title="Home">Dimitris Paxinos</a>
                 <!-- <small>.NET and other programming stories</small>  -->
                <ul class="menu">
                    
                    &nbsp;&nbsp;&nbsp;
                    <li><a href="/aboutme.html">About</a></li>
                    
                    &nbsp;&nbsp;&nbsp;
                    <li><a href="/archive.html">Archive</a></li>
                    
                    &nbsp;&nbsp;&nbsp;
                    <li><a href="/tags.html">Tags</a></li>
                    
                    &nbsp;&nbsp;&nbsp;
                    <li><a href="/feed.xml">Rss</a></li>
                    
                    <ul>
            </h3>
			<h3 class="masthead-title">			
			<small>.NET and other programming stories</small> 
			</h3>
        </div>

        <div class="posts">
    
	
    <div class="post">
        <h1 class="post-title">
            <a href="/blog/2015/02/Rewriting-History-with-Git">
                Rewriting history with Git
            </a>
        </h1>
        <span class="post-date">February 08, 2015</span>
        <p>How many times have you wished you could…</p>

<ul>
<li>Change or add something in the code you just committed? </li>
<li>Merge small commits in your project history?</li>
<li>Keep all commits of a feature branch when transferring your code changes to the main branch?</li>
</ul>

<p>Well, with Git, all the above is actually possible. Git has been around for a while and there is enough online information regarding its main advantages over centralized version control systems (CVCS). I would like to focus on three not-so-well advertised features that I consider real game changers. </p>

<hr>

<p><strong>Caution: You should never try to rewrite any public history. The following Git functionalities are only meant to be used with your local commits and not any commits already pushed to the central repository.</strong></p>

<hr>

<h3>A Git Workflow in an agile environment</h3>

<p>Before proceeding to these cool Git features, let&#39;s talk about a possible Git workflow first. On agile software development projects, work is organized in user stories which define the features to be developed. Since branching in Git is very easy and cheap, one approach would be to have one master/dev branch and create further branches for every user story/feature. This has the benefit of each feature being separately developed without interfering with any others. When the feature is ready, it gets integrated into the main branch.</p>

<h3>Modify your last commit with Git amend</h3>

<p>I do not know about you but this keeps happening to me quite often; realizing, shortly after committing, that there is something I would like to change in my commit. With Git, all we have to do is make our changes and just type:</p>
<div class="highlight"><pre><code class="language-" data-lang="">git commit --amend 
</code></pre></div>
<p>This way, we include the new changes in our most recent commit while keeping the original commit message. In case we also want to change the message we just type:</p>
<div class="highlight"><pre><code class="language-" data-lang="">git commit --amend -m "New commit message"
</code></pre></div>
<h3>Squashing your commits with interactive rebase</h3>

<p>Generally, being able to commit any intermediate changes made before completing a task is very useful, especially when trying different approaches in order to solve a problem. This can also be done using a CVCS, but the project history ends up including many small or meaningless commits. </p>

<p>This can be easily solved with Git and its <em>interactive rebase</em>  feature which gives us the opportunity to reorganize the existing commits by squashing different consequent commits into a single one. This results in having a neat project history, with most of our changes grouped together. Such an approach would also allow for much easier code reviews since the code is organized in logical units-commits.  </p>

<h4>Interactive Rebase Example</h4>

<p>Let&#39;s go through a simple example. Imagine having a branch with four commits. In our example, we would like to squash the fourth into the third commit.</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitSquash1.png" alt="Squash"></p>

<p>In order to be able to edit the last three commits, we type:</p>
<div class="highlight"><pre><code class="language-" data-lang="">git rebase -i head~3
</code></pre></div>
<p>and then we are asked to choose the commits to be squashed:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitSquash2.png" alt="Squash"></p>

<p>We replace &quot;pick&quot; with &quot;squash&quot; for the fourth commit:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitSquash3.png" alt="Squash"></p>

<p>In order to save the changes and exit the VI editor, we escape and type <code>:wq</code>.  After this step, we also have the opportunity to modify our commit messages:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitSquash4.png" alt="Squash"></p>

<p>After replacing the message of the third commit (the fourth one will be included in the third commit), the squash takes place as expected and our branch history finally looks like this:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitSquash5.png" alt="Squash"></p>

<h3>Rebase instead of merge</h3>

<p>Imagine creating a new branch in order to start working on a new feature according to the Git workflow we talked about earlier. While working on your secondary branch, there are some changes made on the master branch by other members of our team.</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitTwoBranches.PNG" alt="StyleCop Settings"></p>

<p>After finishing our feature, we want to transfer the changes from the secondary to the master branch. The obvious choice would normally be to merge the changes. This would create a new single commit on our master branch with the changes of the secondary branch.</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitMerge.png" alt="StyleCop Settings"></p>

<p>But what if we could directly transfer our neat commits (that we could also clean up using interactive rebase as described above) to your main branch? Git can do that by rebasing instead of merging. Rebasing actually means reapplying the commits of the secondary branch on your master branch starting after the last commit on the master branch.</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitRebase.png" alt="StyleCop Settings"></p>

<p>This option can contribute to keeping a very clean project history while retaining all steps towards developing your new feature. </p>

<h4>Rebase Example</h4>

<p>Let&#39;s now have a look at an example to make it more clear. We will continue working on the example we started a while ago for showing the interactive rebase feature. We were working on the master branch and now, we will create one more branch for a feature </p>
<div class="highlight"><pre><code class="language-" data-lang="">git branch featureBranch
git checkout featureBranch
</code></pre></div>
<p>where we will do two more commits. The history would then look like this:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitRebaseCmd1.png" alt="Rebase"></p>

<p>If we now return to our master branch </p>
<div class="highlight"><pre><code class="language-" data-lang="">git checkout master
</code></pre></div>
<p>and do another two commits there as well, its history will look like this:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitRebaseCmd2.png" alt="Rebase"></p>

<p>We will transfer our changes from our feature branch now by reapplying the commits one by one on top of our last commit on the master branch.</p>
<div class="highlight"><pre><code class="language-" data-lang="">git rebase featureBranch
</code></pre></div>
<p>After rebasing, the history of the master branch will be looking like this:</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/GitRebaseCmd4.png" alt="Rebase"></p>

        </br>

        <ul class="tags">
            
            <li><a href="/tags/Git" class="tag" title="View posts tagged with &quot;Git&quot;">Git</a></li>
              
            <li><a href="/tags/Version Control" class="tag" title="View posts tagged with &quot;Version Control&quot;">Version Control</a></li>
              
            <li><a href="/tags/Productivity" class="tag" title="View posts tagged with &quot;Productivity&quot;">Productivity</a></li>
              
            <li><a href="/tags/Rebase" class="tag" title="View posts tagged with &quot;Rebase&quot;">Rebase</a></li>
              
            <li><a href="/tags/Merge" class="tag" title="View posts tagged with &quot;Merge&quot;">Merge</a></li>
              
            <li><a href="/tags/Squash" class="tag" title="View posts tagged with &quot;Squash&quot;">Squash</a></li>
             
        </ul>
        </br>		
	<a href="/blog/2015/02/Rewriting-History-with-Git/#disqus_thread">Comments</a>	
	</br>
    </div>
	
    
	
    <div class="post">
        <h1 class="post-title">
            <a href="/blog/2015/01/Keeping%20a%20consistent%20coding%20style%20with%20StyleCop">
                Keeping a consistent coding style with StyleCop
            </a>
        </h1>
        <span class="post-date">January 25, 2015</span>
        <h3>Coding Style and its Importance</h3>

<p>According to <a href="http://en.wikipedia.org/wiki/Programming_style">Wikipedia</a> , programming or coding style <em>&quot;is a set of rules or guidelines used when writing the source code for a computer program&quot;</em>.  Well factored code with consistent style provides your projects and your team with additional value. The code has a standard structure which makes it easily readable and reduces the time needed by new or existing developers in your team to understand your code.</p>

<h3>What is StyleCop and why should I use it?</h3>

<p>Within a team, people usually agree on a common writing style coming up with some rules that have to be followed by all team members. This is where <a href="https://stylecop.codeplex.com/">StyleCop</a> comes to rescue since it is an open source project of Microsoft which, as stated on the project’s website, <em>“analyzes C# source code to enforce a set of style and consistency rules”.</em> StyleCop can be run either locally on every computer from inside Visual Studio or centrally when integrated with your CI server. </p>

<h3>StyleCop Rules</h3>

<p>The installation of StyleCop is straightforward. Once installed, you can go to the installation folder and open the <em>Settings.StyleCop</em> file. All StyleCop rules are located in this file. StyleCop ships with a default configuration file which can be easily modified through its configuration editor as you can see in the picture below.</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/StyleCopSettings.png" alt="StyleCop Settings"></p>

<h3>Visual Studio</h3>

<p>Once you install StyleCop, you can start using it from within Visual Studio. You can check your code at solution, project or file level by executing the &quot;Run StyleCop&quot; command in every context menu. Code that does not conform with the StyleCop rules is underlined and the tooltip informs us about the exact rule which is violated providing also the rule&#39;s Id as you can see below. You can find the rule in the configuration file of StyleCop by entering the rule&#39;s Id in the &quot;Find&quot; text box in the upper right corner of the configuration editor.</p>

<p><img src="https://raw.githubusercontent.com/dimitrispaxinos/dimitrispaxinos.github.io/master/_assets/images/StyleCopSnippet.png" alt="StyleCop Settings"></p>

<h3>Multiple Configuration Files</h3>

<p>When StyleCop runs, it first looks for a settings file in the same folder where the .cs file is and then starts going up the folders until it finds the next available configuration file. This offers a great flexibility since you can have different configuration files at project, solution or machine level.</p>

<h3>MSBuild</h3>

<p>It is also possible to run all StyleCop checks at every build and see the violations as warnings in your output window. This has to be configured at project level and can be done in two ways, either by <a href="https://stylecop.codeplex.com/wikipage?title=Setting%20Up%20StyleCop%20MSBuild%20Integration">modifying your project file</a> or by referencing the StyleCop.Msbuild NuGet package. And if you are absolutely serious about it, there is also another option that enables to treat StyleCop violations as build errors.</p>

<h3>Continuous Integration Server</h3>

<p>As mentioned above, you can integrate StyleCop with the CI server of your choice. The technical aspect of this goes beyond the scope of this post. Despite that, here are two good tutorials for <a href="http://www.towfeek.se/2014/05/customize-your-tfs-build-process-to-run-stylecop/">TFS</a> and <a href="http://www.andyfrench.info/2014/06/integrating-stylecop-with-teamcity.html">TeamCity</a>. </p>

        </br>

        <ul class="tags">
            
            <li><a href="/tags/StyleCop" class="tag" title="View posts tagged with &quot;StyleCop&quot;">StyleCop</a></li>
              
            <li><a href="/tags/Coding Style" class="tag" title="View posts tagged with &quot;Coding Style&quot;">Coding Style</a></li>
              
            <li><a href="/tags/Visual Studio" class="tag" title="View posts tagged with &quot;Visual Studio&quot;">Visual Studio</a></li>
             
        </ul>
        </br>		
	<a href="/blog/2015/01/Keeping%20a%20consistent%20coding%20style%20with%20StyleCop/#disqus_thread">Comments</a>	
	</br>
    </div>
	
    
</div>

<div>
    <ul class="pager">
		
        
        <li>
            <a href="/page7">&larr; Older</a>
        </li>
        
        
        
        <li>
            <a href="/page5">Newer &rarr;</a>
        </li>
        
        
		 
    </ul>
</div>


        <div class="footer">
            <p>
                &copy; Dimitris Paxinos 2015. All rights reserved.
            </p>
        </div>
    </div>
	<script id="dsq-count-scr" src="//dimitrispaxinosblog.disqus.com/count.js" async></script>
</body>
</html>
